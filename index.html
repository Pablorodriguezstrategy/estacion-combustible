<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CHEF T√ÅCTICO | Estaci√≥n de Carga</title>
    <style>
        :root {
            --bg-color: #0b0b0b;
            --card-bg: #161616;
            --text-color: #e0e0e0;
            --accent-color: #FFD700; /* Dorado/Amarillo Industrial */
            --accent-dim: rgba(255, 215, 0, 0.2);
            --border-color: #333;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            background-image: repeating-linear-gradient(45deg, #111 0, #111 1px, transparent 0, transparent 50%);
            background-size: 30px 30px;
        }

        .container {
            max-width: 500px;
            width: 100%;
            padding-bottom: 100px;
        }

        /* HEADER */
        header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 15px;
        }

        h1 {
            font-size: 1.8rem;
            color: #fff;
            margin: 0;
            letter-spacing: 1px;
            text-transform: uppercase;
            font-weight: 900;
        }
        
        .subtitle {
            color: var(--accent-color);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-top: 5px;
        }

        /* TABS DE NAVEGACI√ìN */
        .tabs {
            display: flex;
            justify-content: space-between;
            background: var(--card-bg);
            padding: 5px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }
        .tab-btn {
            background: transparent;
            border: none;
            color: #666;
            padding: 10px 15px;
            flex: 1;
            font-weight: bold;
            font-size: 0.8rem;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s;
            text-transform: uppercase;
        }
        .tab-btn.active {
            background: var(--accent-color);
            color: #000;
            box-shadow: 0 0 15px var(--accent-dim);
        }

        /* CONTENEDOR DE SECCIONES */
        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* CARDS */
        .card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
        }
        .card-header {
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .card-title {
            color: var(--accent-color);
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9rem;
        }

        /* AUDIO PLAYER */
        .audio-container { width: 100%; margin-top: 10px; filter: grayscale(1) contrast(1.2); }

        /* LISTA DE COMPRA */
        .checklist-group { margin-bottom: 20px; }
        .group-title { font-size: 0.8rem; color: #888; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; border-left: 2px solid var(--accent-color); padding-left: 10px; }
        .check-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background: rgba(255,255,255,0.03);
            margin-bottom: 5px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .check-item.done { opacity: 0.4; }
        .checkbox {
            width: 18px; height: 18px;
            border: 2px solid #555;
            margin-right: 10px;
            display: flex; align-items: center; justify-content: center;
        }
        .check-item.done .checkbox { background: var(--accent-color); border-color: var(--accent-color); }
        .check-item.done .checkbox::after { content: '‚úì'; color: #000; font-size: 12px; font-weight: bold; }

        /* SELECTOR DE D√çA */
        .day-selector {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            padding-bottom: 10px;
            margin-bottom: 20px;
            scrollbar-width: none;
        }
        .day-btn {
            background: #222;
            border: 1px solid #444;
            color: #fff;
            padding: 10px 20px;
            border-radius: 20px;
            white-space: nowrap;
            cursor: pointer;
            font-size: 0.8rem;
        }
        .day-btn.active {
            border-color: var(--accent-color);
            color: var(--accent-color);
            background: rgba(255, 215, 0, 0.1);
        }

        /* RECETAS */
        .meal-row {
            display: flex;
            flex-direction: column; /* Cambiado a columna para a√±adir instrucciones */
            align-items: stretch;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px dashed #333;
        }
        .meal-row:last-child { border: none; padding: 0; margin: 0; }
        
        .meal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .meal-type { font-size: 0.7rem; color: #666; text-transform: uppercase; display: block; margin-bottom: 2px; }
        .meal-name { font-weight: bold; font-size: 1rem; }
        .meal-instructions {
            font-size: 0.85rem;
            color: #aaa;
            background: rgba(255,255,255,0.05);
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .cook-btn {
            background: #222;
            color: #fff;
            border: 1px solid #444;
            padding: 8px 15px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 5px;
            width: 100%; /* Bot√≥n full width */
        }
        .cook-btn:hover { border-color: var(--accent-color); color: var(--accent-color); }

        /* TIMER OVERLAY */
        #timer-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .timer-circle {
            width: 250px; height: 250px;
            border: 4px solid var(--accent-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 30px var(--accent-dim);
            margin-bottom: 30px;
        }
        .timer-display {
            font-size: 4rem;
            font-weight: 900;
            color: #fff;
            font-variant-numeric: tabular-nums;
        }
        .timer-controls button {
            background: transparent;
            border: 1px solid #fff;
            color: #fff;
            padding: 10px 30px;
            border-radius: 30px;
            margin: 0 10px;
            cursor: pointer;
            font-size: 1rem;
        }
        .timer-controls button.stop { border-color: #ff3b3b; color: #ff3b3b; }

        /* DESCARGA */
        .download-btn {
            display: block;
            background: #222;
            color: #888;
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.8rem;
            border: 1px solid #333;
            margin-top: 30px;
        }

        /* MISI√ìN BRIEFING */
        .mission-brief {
            background: #1a1a1a;
            border-left: 3px solid var(--accent-color);
            margin-bottom: 30px;
            padding: 15px;
            border-radius: 4px;
            color: #ccc;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        .mission-brief strong { color: #fff; }

        footer { text-align: center; margin-top: 40px; color: #444; font-size: 0.7rem; }

    </style>
</head>
<body>

<div class="container">
    
    <header>
        <h1>CHEF T√ÅCTICO</h1>
        <div class="subtitle">Estaci√≥n de Carga V8</div>
    </header>

    <!-- MISI√ìN -->
    <div class="mission-brief">
        <strong>MISI√ìN:</strong> Usar esta App para gestionar tu log√≠stica nutricional.
        <br><br>
        1. <strong>Supermercado:</strong> Usa la lista interactiva para comprar solo lo necesario.
        <br>
        2. <strong>Plan Semanal:</strong> Selecciona el d√≠a y sigue las instrucciones de cocinado r√°pido.
        <br>
        3. <strong>Iniciar Preparaci√≥n:</strong> Pulsa el cron√≥metro en cada comida. Tienes un l√≠mite de tiempo para cocinar. ¬°Es un reto contra el reloj para no perder tiempo!
    </div>

    <!-- NAVEGACI√ìN -->
    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('plan')">Plan Semanal</button>
        <button class="tab-btn" onclick="switchTab('shop')">Supermercado</button>
        <button class="tab-btn" onclick="switchTab('smoothie')">Nitro Batido</button>
    </div>

    <!-- 1. SECCI√ìN PLAN SEMANAL -->
    <div id="plan" class="section active">
        
        <div class="card">
            <div class="card-header">
                <span class="card-title">üìÖ Selecciona D√≠a Operativo</span>
            </div>
            <div class="day-selector">
                <button class="day-btn active" onclick="loadDay(0)">LUNES</button>
                <button class="day-btn" onclick="loadDay(1)">MARTES</button>
                <button class="day-btn" onclick="loadDay(2)">MI√âRCOLES</button>
                <button class="day-btn" onclick="loadDay(3)">JUEVES</button>
                <button class="day-btn" onclick="loadDay(4)">VIERNES</button>
                <button class="day-btn" onclick="loadDay(5)">S√ÅBADO</button>
                <button class="day-btn" onclick="loadDay(6)">DOMINGO</button>
            </div>

            <div id="meal-container">
                <!-- Se llena con JS -->
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <span class="card-title">üîä Briefing Nutricional</span>
            </div>
            <audio controls class="audio-container">
                <source src="audio_chef.mp3" type="audio/mpeg">
                Tu navegador no soporta audio.
            </audio>
        </div>

    </div>

    <!-- 2. SECCI√ìN SUPERMERCADO -->
    <div id="shop" class="section">
        <div class="card">
            <div class="card-header">
                <span class="card-title">üõí Lista de Suministros</span>
            </div>
            
            <div class="checklist-group">
                <div class="group-title">üí• DETONADORES (Minerales)</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>Ostras (Frescas/Lata)</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>Carne Roja Magra</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>Huevos (Con Yema)</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>Semillas Calabaza</div>
            </div>

            <div class="checklist-group">
                <div class="group-title">üöÄ DILATADORES (√ìxido N√≠trico)</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>Remolacha (Betabel)</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>R√∫cula / Espinacas</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>Ajo Fresco</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>Chocolate Negro 85%</div>
            </div>

            <div class="checklist-group">
                <div class="group-title">üõ°Ô∏è ESTRUCTURA (Grasas)</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>Salm√≥n / Sardinas</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>Aguacates</div>
                <div class="check-item" onclick="toggleCheck(this)"><div class="checkbox"></div>Nueces de Brasil</div>
            </div>
        </div>
    </div>

    <!-- 3. SECCI√ìN SMOOTHIE -->
    <div id="smoothie" class="section">
        <div class="card" style="border-color: var(--accent-color);">
            <div class="card-header">
                <span class="card-title">‚ö° BATIDO DE RECUPERACI√ìN</span>
                <span style="font-size:0.7rem; background:#333; padding:2px 6px; border-radius:4px;">18:00 PM</span>
            </div>
            <p style="font-size:0.9rem; color:#ccc; margin-bottom:20px;">
                Beber cuando la energ√≠a baje por la tarde. Carga tus dep√≥sitos de minerales contra el cortisol.
            </p>
            
            <div class="check-item"><div class="checkbox" style="border-color:var(--accent-color)"></div>1 Vaso Leche (Entera/Almendra)</div>
            <div class="check-item"><div class="checkbox" style="border-color:var(--accent-color)"></div>1 Pl√°tano (Potasio)</div>
            <div class="check-item"><div class="checkbox" style="border-color:var(--accent-color)"></div>30g Semillas Calabaza</div>
            <div class="check-item"><div class="checkbox" style="border-color:var(--accent-color)"></div>2 Cuadros Chocolate 85%</div>
            <div class="check-item"><div class="checkbox" style="border-color:var(--accent-color)"></div>1 Cucharada Miel</div>

            <button onclick="startTimer(120)" class="cook-btn" style="width:100%; justify-content:center; margin-top:20px; padding:15px; font-size:1rem; font-weight:bold; background:var(--accent-color); color:#000; border:none;">
                ‚è±Ô∏è INICIAR PREPARACI√ìN (2 MIN)
            </button>
        </div>
    </div>

    <a href="manual_nutricion.pdf" download class="download-btn">
        üìÇ DESCARGAR RECETARIO COMPLETO (PDF)
    </a>

    <footer>
        COCINA CLANDESTINA v1.0<br>Combustible de Alto Octanaje
    </footer>

</div>

<!-- TIMER OVERLAY -->
<div id="timer-overlay">
    <div class="timer-circle">
        <div class="timer-display" id="timer-display">15:00</div>
    </div>
    <div style="color:#aaa; margin-bottom:20px; text-transform:uppercase; letter-spacing:2px;">Tiempo de Misi√≥n</div>
    <div class="timer-controls">
        <button class="stop" onclick="stopTimer()">CANCELAR</button>
        <button onclick="stopTimer()">¬°MISI√ìN CUMPLIDA!</button>
    </div>
</div>

<script>
    // --- DATOS DEL MEN√ö (Del PDF con Instrucciones) ---
    const menuData = [
        { 
            d: "LUNES", 
            b: { name: "Omelet Espinaca", time: 420, instr: "Bate 3 huevos. Saltea espinacas y ajo 2 min. A√±ade huevos y cocina 3 min." }, 
            l: { name: "Filete + Remolacha", time: 900, instr: "Cocina carne 4 min/lado. Sirve con r√∫cula y remolacha rallada." },
            dnr: { name: "Salm√≥n + Esp√°rragos", time: 600, instr: "Salm√≥n piel abajo 6 min. A√±ade esp√°rragos. Voltea salm√≥n 2 min." }
        },
        { 
            d: "MARTES", 
            b: { name: "Huevos Revueltos", time: 480, instr: "Revuelve 3 huevos con mantequilla. Sirve r√°pido." }, 
            l: { name: "Pollo + R√∫cula", time: 600, instr: "Pechuga a la plancha. Sirve sobre cama de r√∫cula con aceite de oliva." },
            dnr: { name: "Ostras (o Sardinas)", time: 300, instr: "Abre lata o sirve frescas. A√±ade lim√≥n. Sin cocinar." }
        },
        { 
            d: "MI√âRCOLES", 
            b: { name: "Smoothie Octanaje", time: 120, instr: "Lic√∫a leche, pl√°tano, semillas y chocolate. Bebe al instante." }, 
            l: { name: "At√∫n + Aguacate", time: 300, instr: "Mezcla at√∫n con aguacate. A√±ade sal y pimienta." },
            dnr: { name: "Hamburguesa Casera", time: 720, instr: "Carne molida a la plancha. Sin pan (o integral). Acompa√±a con ensalada." }
        },
        { 
            d: "JUEVES", 
            b: { name: "Omelet Champi√±√≥n", time: 420, instr: "Igual que lunes, pero con champi√±ones." }, 
            l: { name: "Carne + Br√≥coli", time: 900, instr: "Carne a la plancha. Br√≥coli al vapor o salteado." },
            dnr: { name: "Pescado Blanco", time: 600, instr: "Filete de pescado a la plancha con lim√≥n y ajo." }
        },
        { 
            d: "VIERNES", 
            b: { name: "Huevos + Tocino", time: 480, instr: "Disfruta. Prote√≠na y grasa." }, 
            l: { name: "Pollo al Curry", time: 900, instr: "Pollo en cubos, saltea con curry y leche de coco." },
            dnr: { name: "CENA LIBRE (Refeed)", time: 0, instr: "Come lo que quieras. Te lo has ganado." }
        },
        { 
            d: "S√ÅBADO", 
            b: { name: "Smoothie Octanaje", time: 120, instr: "Lic√∫a todo. Energ√≠a r√°pida." }, 
            l: { name: "Filete + Ensalada", time: 900, instr: "Carne roja para recargar zinc." },
            dnr: { name: "Salm√≥n al Horno", time: 1200, instr: "Salm√≥n al horno 15-20 min a 180¬∞C." }
        },
        { 
            d: "DOMINGO", 
            b: { name: "Ayuno hasta 12pm", time: 0, instr: "Solo caf√© negro o agua. Limpieza de sistema." }, 
            l: { name: "Barbacoa (Carne)", time: 1800, instr: "Disfruta de la parrilla." },
            dnr: { name: "Huevos Duros + Ensalada", time: 600, instr: "Cena ligera para empezar la semana." }
        }
    ];

    // --- NAVEGACI√ìN ---
    function switchTab(tabId) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        
        document.getElementById(tabId).classList.add('active');
        event.target.classList.add('active');
    }

    // --- CARGAR D√çA ---
    function loadDay(index) {
        // Update botones
        document.querySelectorAll('.day-btn').forEach((b, i) => {
            if(i === index) b.classList.add('active');
            else b.classList.remove('active');
        });

        // Render men√∫
        const day = menuData[index];
        const container = document.getElementById('meal-container');
        
        container.innerHTML = `
            <div class="meal-row">
                <div class="meal-header">
                    <div>
                        <span class="meal-type">Desayuno</span>
                        <span class="meal-name">${day.b.name}</span>
                    </div>
                </div>
                <div class="meal-instructions">${day.b.instr}</div>
                ${day.b.time > 0 ? `<button class="cook-btn" onclick="startTimer(${day.b.time})">‚è±Ô∏è INICIAR PREPARACI√ìN (${Math.floor(day.b.time/60)} MIN)</button>` : ''}
            </div>
            
            <div class="meal-row">
                <div class="meal-header">
                    <div>
                        <span class="meal-type">Almuerzo</span>
                        <span class="meal-name">${day.l.name}</span>
                    </div>
                </div>
                <div class="meal-instructions">${day.l.instr}</div>
                ${day.l.time > 0 ? `<button class="cook-btn" onclick="startTimer(${day.l.time})">‚è±Ô∏è INICIAR PREPARACI√ìN (${Math.floor(day.l.time/60)} MIN)</button>` : ''}
            </div>

            <div class="meal-row">
                <div class="meal-header">
                    <div>
                        <span class="meal-type">Cena</span>
                        <span class="meal-name">${day.dnr.name}</span>
                    </div>
                </div>
                <div class="meal-instructions">${day.dnr.instr}</div>
                ${day.dnr.time > 0 ? `<button class="cook-btn" onclick="startTimer(${day.dnr.time})">‚è±Ô∏è INICIAR PREPARACI√ìN (${Math.floor(day.dnr.time/60)} MIN)</button>` : ''}
            </div>
        `;
    }

    // --- CHECKBOXES ---
    function toggleCheck(el) {
        el.classList.toggle('done');
        if(navigator.vibrate) navigator.vibrate(20);
    }

    // --- TIMER ---
    let timerInterval;
    
    function startTimer(seconds) {
        const overlay = document.getElementById('timer-overlay');
        const display = document.getElementById('timer-display');
        overlay.style.display = 'flex';
        
        let remaining = seconds;
        updateDisplay(remaining, display);
        
        clearInterval(timerInterval);
        timerInterval = setInterval(() => {
            remaining--;
            updateDisplay(remaining, display);
            if(remaining <= 0) {
                clearInterval(timerInterval);
                if(navigator.vibrate) navigator.vibrate([200, 100, 200]);
                alert("¬°TIEMPO! Misi√≥n Cumplida.");
                stopTimer();
            }
        }, 1000);
    }

    function updateDisplay(seconds, element) {
        const m = Math.floor(seconds / 60).toString().padStart(2, '0');
        const s = (seconds % 60).toString().padStart(2, '0');
        element.innerText = `${m}:${s}`;
    }

    function stopTimer() {
        clearInterval(timerInterval);
        document.getElementById('timer-overlay').style.display = 'none';
    }

    // Iniciar con Lunes
    loadDay(0);

</script>

</body>
</html>
